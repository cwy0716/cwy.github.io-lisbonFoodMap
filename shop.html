<!DOCTYPE html>

<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>店铺评论</title>

<style>
  body {margin:0;padding:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;}
  .shop-card {max-width:600px;margin:0 auto;}
  .shop-img {width:100%;height:300px;object-fit:cover;border-radius:8px;}
  .shop-title {font-size:24px;font-weight:bold;margin:12px 0;}
  .shop-cost, .shop-address {font-size:16px;margin:4px 0;color:#555;}
  .shop-desc {margin:8px 0;font-size:14px;color:#333;}
</style>

</head>

<body>
<div class="shop-card">
  <img id="shopImg" class="shop-img" src="" alt="">
  <div id="shopName" class="shop-title"></div>
  <div id="shopCost" class="shop-cost"></div>
  <div id="shopAddress" class="shop-address"></div>
  <div id="shopDesc" class="shop-desc"></div>
</div>

<h3>评论区</h3>
<div id="disqus_thread"></div>

<script>
const shops = [
  {
    name: "Sakura",
    cost: "午餐16.9€ 晚餐22.9€",
    address: "Passeio das Tágides 2.25, 1990-221 Lisboa",
    desc: ["经常去的店，环境不错，品类挺多的，甜虾有点腥。"],
    img: "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2d/e4/55/b2/caption.jpg?w=900&h=500&s=1"
  },
  {
    name: "Eat Thai",
    cost: "谷歌人均15-20€，但我感觉还要贵一些",
    address: "Av. Mediterrâneo 6H, 1990-155 Lisboa",
    desc: ["泰国人开的，很正宗，去了好多次了。猪皮脆脆的。生腌虾很新鲜，有点辣。甜品芒果糯米饭必点。可惜没有生腌三文鱼…… 烤猪肉不推荐，硬。"],
    img: "https://cdn.thefork.com/tf-lab/image/upload/w_500,h_500,c_fill,q_auto,f_auto,g_auto:subject/restaurant/5f910d76-8da2-4dbc-aaeb-9f5399d25d6d/f6b251fb-33ce-4355-94f6-5163cfa33e00.jpg"
  }
];

// 从 URL 获取店铺名
const params = new URLSearchParams(window.location.search);
const shopName = params.get('name');

// 找到对应店铺数据
const shop = shops.find(s => s.name === shopName);
if(shop){
  document.getElementById('shopImg').src = shop.img;
  document.getElementById('shopName').innerText = shop.name;
  document.getElementById('shopCost').innerText = shop.cost;
  document.getElementById('shopAddress').innerText = shop.address;
  document.getElementById('shopDesc').innerText = shop.desc.join(' ');
}

/* ========= 初始化 Disqus ========= */
var disqus_shortname = "lisbonfoodmap"; // 替换成你在 Disqus 的网站名
var disqus_identifier = 'shop_' + shopName.replace(/\s/g,'_');
var disqus_url = window.location.href;

window.disqus_config = function () {
  this.page.identifier = disqus_identifier;
  this.page.url = disqus_url;
};

(function() {
  var d=document,s=d.createElement('script');
  s.src='https://' + disqus_shortname + '.disqus.com/embed.js';
  s.setAttribute('data-timestamp',+new Date());
  (d.head||d.body).appendChild(s);
})();
</script>

</body>
</html>
